// *** GENERATED BY PRISMIX :: DO NOT EDIT ***
datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

generator client {
  provider        = "prisma-client-js"
  previewFeatures = ["fullTextSearch", "fullTextIndex"]
}

model User {
  id                String        @id
  username          String        @unique
  email             String        @unique
  password          String
  name              String
  cpf               String
  birth             String
  phone             String
  pronoun           String
  uf                String
  admin             Boolean       @default(false)
  image             String?       @db.Text
  cover             String?       @db.Text
  bio               String?       @db.Text
  google_id         String?
  google_token      String?       @db.Text
  courses           Course[]      @relation(name: "CourseToUser")
  favorite_creators Creator[]     @relation(name: "favorite_creators")
  favorite_courses  Course[]      @relation(name: "favorite_courses")
  creator           Creator?      @relation(name: "CreatorToUser")
  payment_cards     Paymentcard[] @relation(name: "PaymentcardToUser")
}

model Course {
  id           String  @id
  students     User[]  @relation(name: "CourseToUser")
  favorited_by User[]  @relation(name: "favorite_courses")
  creator_id   String
  creator      Creator @relation(name: "CourseToCreator", fields: [creator_id], references: [id], onDelete: Cascade)
}

model Creator {
  id           String     @id
  favorited_by User[]     @relation(name: "favorite_creators")
  nickname     String
  language     String
  description  String
  active       Boolean    @default(false)
  categories   Category[] @relation(name: "CategoryToCreator")
  courses      Course[]   @relation(name: "CourseToCreator")
  user_id      String     @unique
  user         User       @relation(name: "CreatorToUser", fields: [user_id], references: [id], onDelete: Cascade)
}

model Category {
  id       String    @id
  creators Creator[] @relation(name: "CategoryToCreator")
  name     String
  cover    String    @db.Text
}

model Paymentcard {
  id       String @id
  number   String
  owner    String
  validity String
  cvc      String
  type     String
  user_id  String
  user     User   @relation(name: "PaymentcardToUser", fields: [user_id], references: [id], onDelete: Cascade)
}
